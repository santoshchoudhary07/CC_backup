<div class="datepicker">
    <date-picker [hidden]="!datePickerOpen" [startDate]="minDate" [endDate]="maxDate" [(ngModel)]="ngModel"
        (maDateOnChange)="updateValue($event);closeDatePicker()"></date-picker>
    <input type="hidden" name="{{name}}" id="{{id}}" class="field hasDatepicker" [(ngModel)]="value"
        [required]="required" />
    <ng-container *ngIf="isMasking; else noMasking">
        <input type="text" autocomplete="off" name="display_{{name}}" id="display_{{id}}"
            class="field hasDatepicker" (keyup)="setValue()" ngModel [(maMaskValue)]="displayDate"
            [maMask]="maskType ? maskType : '00/00/0000'" [maKeepMask]="!unMaskValue"
            (ngModelChange)="updateValue(null)" (blur)="convertToDate(false);onTouched()"
            (click)="pickerFocusOpen && openDatePicker()" [placeholder]="placeholder ? placeholder : ''"
            [disabled]="disabled" [readonly]="readOnly" [required]="required">
    </ng-container>

    <ng-template #noMasking>
        <input type="text" autocomplete="off" name="display_{{name}}" id="display_{{id}}" class="field hasDatepicker"
            [(ngModel)]="displayDate" (ngModelChange)="updateValue(null)" (blur)="convertToDate(false);onTouched()"
            (keypress)="disableInput($event)" (click)="pickerFocusOpen && openDatePicker()"
            [placeholder]="placeholder ? placeholder : ''" [disabled]="disabled" [readonly]="readOnly"
            [required]="required">
    </ng-template>
    <button type="button" class="ui-datepicker-trigger" (click)="openDatePicker()" [disabled]="disabled">...</button>
</div>