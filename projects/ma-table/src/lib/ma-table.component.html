<ng-container *ngIf="options.isScrollable; else simpleTable">
    <div class="table table-properties table-scrollable table-fixed-layout">
        <div class="table-head">
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <thead>
                    <tr>
                        <ng-container *ngFor="let head of options.headList">
                            <ng-container *ngIf="!head?.thNgIf">
                                <th class="sorting-arrow" [ngClass]="head?.thClassName ? head?.thClassName : ''"
                                    (click)="sortBy(head)">
                                    <span *ngIf="!head.isHideHeadKey">
                                        <ng-container *ngIf="head?.selectAllCheckBox">
                                            <div class="checkbox set-checkbox">
                                                <input id="check-id" [(ngModel)]="checkedSelectAll" type="checkbox"
                                                    name="name" (change)="selectAll()" />
                                                <label for="check-id">
                                                </label>
                                            </div>
                                        </ng-container>
                                        {{head.columnName}}
                                    </span>
                                    <i *ngIf="!head?.inputType"
                                        [ngClass]="(sortField === head.sortBy && options.sorting && head.isSorting) ? 'arrow-up inline-space-left arrow' : options.sorting && head.isSorting ? 'arrow-down inline-space-left arrow': ''"></i>
                                </th>
                            </ng-container>
                        </ng-container>
                    </tr>
                </thead>
            </table>
        </div>
        <div class="table-body custom-scroll scrolling">
            <table border="0" cellpadding="0" cellspacing="0" width="100%">
                <tbody>
                    <tr *ngIf="loading" class="data-info">
                        <td [attr.colspan]="options?.headList?.length">
                            <img [src]="loaderImagePath" alt="Loading...">
                        </td>
                    </tr>
                    <tr *ngIf="!loading && (options.dataList && options.dataList.length) === 0" class="data-info">
                        <td [attr.colspan]="options?.headList?.length">{{options?.message}}</td>
                    </tr>
                    <ng-container *ngFor="let data of options.dataList; let i=index;trackBy: identify">
                        <ng-container *ngIf="!data?.trNgIf">
                            <tr [ngClass]="data?.trClassName ? data?.trClassName : ''" (click)="editTable(data, i)">
                                <ng-container *ngFor="let property of options.headList">
                                    <ng-container *ngIf="!data[property?.tdNgIf]">
                                        <td [ngClass]="data[property?.tdClassName] ? data[property?.tdClassName] : ''">
                                            <div [ngSwitch]="data[property?.inputType]">
                                                <div *ngSwitchCase="'button'">
                                                    <ng-container
                                                        *ngIf="isArray(data[property?.inputLabel]); else simpleButton">
                                                        <ng-container
                                                            *ngFor="let buttonItem of data[property?.inputLabel]">
                                                            <button class="btn btn-small"
                                                                [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''"
                                                                (click)="inputChange(data, i, property.columnName, buttonItem)">{{buttonItem}}</button>
                                                        </ng-container>
                                                    </ng-container>
                                                    <ng-template #simpleButton>
                                                        <button class="btn btn-small"
                                                            [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''"
                                                            (click)="inputChange(data, i, property.columnName)">{{data[property?.inputLabel]}}</button>
                                                    </ng-template>
                                                </div>
                                                <div *ngSwitchCase="'link'">
                                                    <ng-container
                                                        *ngIf="isArray(data[property?.inputLabel]); else simpleAnchorLink">
                                                        <ng-container
                                                            *ngFor="let linkItem of data[property?.inputLabel]">
                                                            <a (click)="inputChange(data, i, property.columnName, linkItem)"
                                                                [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''">{{linkItem}}</a>
                                                        </ng-container>
                                                    </ng-container>
                                                    <ng-template #simpleAnchorLink>
                                                        <a (click)="inputChange(data, i, property.columnName)"
                                                            [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''">{{data[property?.inputLabel]}}</a>
                                                    </ng-template>
                                                </div>
                                                <div *ngSwitchCase="'link-icon'">
                                                    <a (click)="inputChange(data, i, property.columnName)"
                                                        [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''">
                                                        <i
                                                            [ngClass]="data[property?.iconClassName] ? data[property?.iconClassName] : ''"></i>
                                                    </a>
                                                </div>
                                                <div *ngSwitchCase="'dropdown'">
                                                    <ma-dropdown [options]="selectList"
                                                        [renderProperty]="selectDisplayProperty"
                                                        [optionId]="selectValueProperty"
                                                        [placeholder]="selectPlaceholder ? selectPlaceholder : ''"
                                                        [(ngModel)]="data[selectBindProperty]" [id]="'select_' + i"
                                                        (onMaSelectChange)="onMaSelectChange($event, data, i, property.columnName)">
                                                    </ma-dropdown>
                                                </div>
                                                <div *ngSwitchCase="'checkbox'">
                                                    <div class="checkbox">
                                                        <input id="id_{{i}}" [(ngModel)]="data[checkBoxBindProperty]"
                                                            [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''"
                                                            type="checkbox" [name]="i"
                                                            (change)="maInputOnChange(data, i, property.columnName)" />
                                                        <label for="id_{{i}}">
                                                        </label>
                                                    </div>
                                                </div>
                                                <div *ngSwitchDefault>
                                                    <div [ngSwitch]="property?.pipe?.name">
                                                        <div *ngSwitchCase="'date'">
                                                            {{(displayProperty(property.sortBy, data)) | date:property?.pipe?.format}}
                                                        </div>
                                                        <div *ngSwitchCase="'currency'">
                                                            {{(displayProperty(property.sortBy, data)) | currency:property?.pipe?.format}}
                                                        </div>
                                                        <div *ngSwitchCase="'number'">
                                                            {{(displayProperty(property.sortBy, data)) | number:property?.pipe?.format}}
                                                        </div>
                                                        <div *ngSwitchCase="'json'">
                                                            {{(displayProperty(property.sortBy, data)) | json}}
                                                        </div>
                                                        <div *ngSwitchCase="'percent'">
                                                            {{(displayProperty(property.sortBy, data)) | percent:property?.pipe?.format}}
                                                        </div>
                                                        <div *ngSwitchCase="'slice'">
                                                            {{(displayProperty(property.sortBy, data)) | slice:property?.pipe?.format}}
                                                        </div>
                                                        <div *ngSwitchCase="'lowercase'">
                                                            {{(displayProperty(property.sortBy, data)) | lowercase}}
                                                        </div>
                                                        <div *ngSwitchCase="'titlecase'">
                                                            {{(displayProperty(property.sortBy, data)) | titlecase}}
                                                        </div>
                                                        <div *ngSwitchCase="'uppercase'">
                                                            {{(displayProperty(property.sortBy, data)) | uppercase}}
                                                        </div>
                                                        <div *ngSwitchDefault>
                                                            <ng-container
                                                                *ngIf="isArray(data[property?.sortBy]); else noArray">
                                                                <div *ngFor="let itemData of data[property?.sortBy]">
                                                                    {{itemData[property?.sortBy]}}</div>
                                                            </ng-container>
                                                            <ng-template #noArray>
                                                                {{displayProperty(property.sortBy, data)}}
                                                            </ng-template>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </ng-container>
                                </ng-container>
                            </tr>
                        </ng-container>
                    </ng-container>
                </tbody>
            </table>
        </div>
    </div>
</ng-container>

<ng-template #simpleTable>
    <div class="table table-worksheet">
        <table width="100%" border="0" cellspacing="0" cellpadding="0">
            <thead>
                <tr>
                    <ng-container *ngFor="let head of options.headList">
                        <ng-container *ngIf="!head?.thNgIf">
                            <th class="sorting-arrow" [ngClass]="head?.thClassName ? head?.thClassName : ''"
                                (click)="sortBy(head)">
                                <span *ngIf="!head.isHideHeadKey">
                                    <ng-container *ngIf="head?.selectAllCheckBox">
                                        <div class="checkbox set-checkbox">
                                            <input id="check-id" [(ngModel)]="checkedSelectAll" type="checkbox"
                                                name="name" (change)="selectAll()" />
                                            <label for="check-id">
                                            </label>
                                        </div>
                                    </ng-container>
                                    {{head.columnName}}
                                </span>
                                <i *ngIf="!head.inputType"
                                    [ngClass]="(sortField === head.sortBy && options.sorting && head.isSorting) ? 'arrow-up inline-space-left arrow' : options.sorting && head.isSorting ? 'arrow-down inline-space-left arrow': ''"></i>
                            </th>
                        </ng-container>
                    </ng-container>
                </tr>
            </thead>
            <tbody>
                <tr *ngIf="loading" class="data-info">
                    <td [attr.colspan]="options?.headList?.length">
                        <img [src]="loaderImagePath" alt="Loading...">
                    </td>
                </tr>
                <tr *ngIf="!loading && (options.dataList && options.dataList.length) === 0" class="data-info">
                    <td [attr.colspan]="options?.headList?.length">{{options?.message}}</td>
                </tr>
                <ng-container *ngFor="let data of options.dataList; let i=index;trackBy: identify">
                    <ng-container *ngIf="!data?.trNgIf">
                        <tr [ngClass]="data?.trClassName ? data?.trClassName : ''" (click)="editTable(data, i)">
                            <ng-container *ngFor="let property of options.headList">
                                <ng-container *ngIf="!data[property?.tdNgIf]">
                                    <td (mouseleave)="property?.iconClassName && mouseLeaves(data)"
                                        (mouseenter)="property?.iconClassName && mouseEnters(data)"
                                        [ngClass]="data[property?.tdClassName] ? data[property?.tdClassName] : ''">
                                        <div [ngSwitch]="data[property?.inputType]">
                                            <div *ngSwitchCase="'button'">
                                                <ng-container
                                                    *ngIf="isArray(data[property?.inputLabel]); else simpleButton">
                                                    <ng-container *ngFor="let buttonItem of data[property?.inputLabel]">
                                                        <button class="btn btn-small"
                                                            [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''"
                                                            (click)="inputChange(data, i, property.columnName, buttonItem)">{{buttonItem}}</button>
                                                    </ng-container>
                                                </ng-container>
                                                <ng-template #simpleButton>
                                                    <button class="btn btn-small"
                                                        [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''"
                                                        (click)="inputChange(data, i, property.columnName)">{{data[property?.inputLabel]}}</button>
                                                </ng-template>
                                            </div>
                                            <div *ngSwitchCase="'link'">
                                                <ng-container
                                                    *ngIf="isArray(data[property?.inputLabel]); else simpleAnchorLink">
                                                    <ng-container *ngFor="let linkItem of data[property?.inputLabel]">
                                                        <a (click)="inputChange(data, i, property.columnName, linkItem)"
                                                            [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''">{{linkItem}}</a>
                                                    </ng-container>
                                                </ng-container>
                                                <ng-template #simpleAnchorLink>
                                                    <a (click)="inputChange(data, i, property.columnName)"
                                                        [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''">{{data[property?.inputLabel]}}</a>
                                                </ng-template>
                                            </div>
                                            <div *ngSwitchCase="'link-icon'">
                                                <a (click)="inputChange(data, i, property.columnName)"
                                                    [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''">
                                                    <i
                                                        [ngClass]="data[property?.iconClassName] ? data[property?.iconClassName] : ''"></i>
                                                </a>
                                            </div>
                                            <div *ngSwitchCase="'dropdown'">
                                                <ma-dropdown [options]="selectList"
                                                    [renderProperty]="selectDisplayProperty"
                                                    [optionId]="selectValueProperty"
                                                    [placeholder]="selectPlaceholder ? selectPlaceholder : ''"
                                                    [(ngModel)]="data[selectBindProperty]" [id]="'select_' + i"
                                                    (onMaSelectChange)="onMaSelectChange($event, data, i, property.columnName)">
                                                </ma-dropdown>
                                            </div>
                                            <div *ngSwitchCase="'checkbox'">
                                                <div class="checkbox">
                                                    <input id="id_{{i}}" [(ngModel)]="data[checkBoxBindProperty]"
                                                        [ngClass]="data[property?.actionClass] ? data[property?.actionClass] : ''"
                                                        type="checkbox" [name]="i"
                                                        (change)="maInputOnChange(data, i, property.columnName)" />
                                                    <label for="id_{{i}}">
                                                    </label>
                                                </div>
                                            </div>
                                            <div *ngSwitchDefault>
                                                <div [ngSwitch]="property?.pipe?.name">
                                                    <div *ngSwitchCase="'date'">
                                                        {{(displayProperty(property.sortBy, data)) | date:property?.pipe?.format}}
                                                    </div>
                                                    <div *ngSwitchCase="'currency'">
                                                        {{(displayProperty(property.sortBy, data)) | currency:property?.pipe?.format}}
                                                    </div>
                                                    <div *ngSwitchCase="'number'">
                                                        {{(displayProperty(property.sortBy, data)) | number:property?.pipe?.format}}
                                                    </div>
                                                    <div *ngSwitchCase="'json'">
                                                        {{(displayProperty(property.sortBy, data)) | json}}
                                                    </div>
                                                    <div *ngSwitchCase="'percent'">
                                                        {{(displayProperty(property.sortBy, data)) | percent:property?.pipe?.format}}
                                                    </div>
                                                    <div *ngSwitchCase="'slice'">
                                                        {{(displayProperty(property.sortBy, data)) | slice:property?.pipe?.format}}
                                                    </div>
                                                    <div *ngSwitchCase="'lowercase'">
                                                        {{(displayProperty(property.sortBy, data)) | lowercase}}
                                                    </div>
                                                    <div *ngSwitchCase="'titlecase'">
                                                        {{(displayProperty(property.sortBy, data)) | titlecase}}
                                                    </div>
                                                    <div *ngSwitchCase="'uppercase'">
                                                        {{(displayProperty(property.sortBy, data)) | uppercase}}
                                                    </div>
                                                    <div *ngSwitchDefault>
                                                        <ng-container
                                                            *ngIf="isArray(data[property?.sortBy]); else noArray">
                                                            <div *ngFor="let itemData of data[property?.sortBy]">
                                                                {{itemData[property?.sortBy]}}</div>
                                                        </ng-container>
                                                        <ng-template #noArray>
                                                            {{displayProperty(property.sortBy, data)}}
                                                        </ng-template>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </ng-container>
                            </ng-container>
                        </tr>
                    </ng-container>
                </ng-container>
            </tbody>
        </table>
    </div>
</ng-template>